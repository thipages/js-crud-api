<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS-CRUD-API - Browser Tests</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>JS-CRUD-API - Browser Tests</h1>
      <p class="subtitle">Functional tests based on PHP-CRUD-API</p>
    </header>

    <section class="config-panel">
      <h2>Configuration</h2>
      <div class="config-form">
        <div class="form-group">
          <label for="baseUrl">API base URL:</label>
          <input
            type="text"
            id="baseUrl"
            value=""
            placeholder="Auto-detected from origin"
          >
        </div>
        <div class="form-group">
          <label for="testSuite">Test suite:</label>
          <select id="testSuite">
            <option value="">-- Loading... --</option>
          </select>
        </div>
        <div class="form-group checkbox">
          <label>
            <input type="checkbox" id="strictMode">
            Strict mode (also compare headers)
          </label>
        </div>
        <div class="form-group checkbox">
          <label>
            <input type="checkbox" id="logRequests">
            Log detailed requests
          </label>
        </div>
      </div>
    </section>

    <section class="controls">
      <button id="runTests" class="btn btn-primary">Run tests</button>
      <button id="runAllTests" class="btn btn-secondary">Run all tests</button>
      <button id="resetDb" class="btn btn-warning">Reset DB</button>
      <button id="stopTests" class="btn btn-danger" disabled>Stop</button>
    </section>

    <section class="progress-section">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="progress-text" id="progressText">Ready</div>
    </section>

    <section class="stats">
      <div class="stat-box stat-total">
        <div class="stat-value" id="totalTests">0</div>
        <div class="stat-label">Total</div>
      </div>
      <div class="stat-box stat-passed">
        <div class="stat-value" id="passedTests">0</div>
        <div class="stat-label">Passed</div>
      </div>
      <div class="stat-box stat-failed">
        <div class="stat-value" id="failedTests">0</div>
        <div class="stat-label">Failed</div>
      </div>
      <div class="stat-box stat-skipped">
        <div class="stat-value" id="skippedTests">0</div>
        <div class="stat-label">Skipped</div>
      </div>
    </section>

    <section class="results">
      <div class="results-header">
        <h2>Results</h2>
        <div class="results-filters">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="failed">Failed</button>
          <button class="filter-btn" data-filter="passed">Passed</button>
          <button class="filter-btn" data-filter="skipped">Skipped</button>
        </div>
      </div>
      <div id="resultsContainer" class="results-container">
        <div class="no-results">No tests executed yet.</div>
      </div>
    </section>

    <section class="results">
      <div class="results-header">
        <h2>Export</h2>
        <button id="copyExport" class="btn btn-secondary">Copy</button>
      </div>
      <textarea id="exportTextarea" class="export-textarea" readonly placeholder="Results will appear here..."></textarea>
    </section>
  </div>

  <!-- Scripts -->
  <script type="module">
    import { initApp } from './src/app.js';
    initApp();
  </script>
</body>
</html>
