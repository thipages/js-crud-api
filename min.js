var pcajs=function(){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r,t,n,e,o,u,i){try{var c=r[u](i),a=c.value}catch(r){return void n(r)}c.done?t(a):Promise.resolve(a).then(e,o)}function n(r){return function(){var n=this,e=arguments;return new Promise((function(o,u){var i=r.apply(n,e);function c(r){t(i,o,u,c,a,"next",r)}function a(r){t(i,o,u,c,a,"throw",r)}c(void 0)}))}}function e(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function o(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.push.apply(n,e)}return n}function u(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){e(r,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))}))}return r}function i(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return c(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}var a=function(r){return Array.isArray(r)?r:[r]},f=function(r){return a(r).join(",")},s=function(r){var t=[];return Object.keys(r).forEach((function(n){var e=[];a(r[n]).forEach((function(r){e.push(n+"="+r)})),t.push.apply(t,e)})),"?"+t.join("&")};return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={},c=function(r,t){var n=u(u({method:r},e),{},{headers:u(u({},o),e.headers)});return t&&(n.body=t instanceof FormData?t:JSON.stringify(t)),n},a=function(r){return[t].concat(i(r)).join("/")},l=function(r,t,e){return fetch(a(e),c(r,t)).then(function(){var r=n(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.json();case 2:return n=r.sent,r.abrupt("return",200===t.status||t.ok?Promise.resolve(n):Promise.reject(n));case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(r){return Promise.reject(r.code?r:{code:-1,message:r.message})}))},p=function(r,t){return l("POST",t,["records",r])},y=function(t,n){var e=n?Array.isArray(n)?n.join(","):"object"===r(n)?n?s(n):"":n:"",o=["records",t];return""!==e&&o.push(e),l("GET",null,o)};return{read:function(r,t){return y(r,t)},select:function(r,t){return y(r,t)},list:function(r){return y(r)},create:function(r,t){return p(r,t)},insert:function(r,t){return p(r,t)},update:function(r,t,n){return l("PUT",n,["records",r,f(t)])},delete:function(r,t){return l("DELETE",null,["records",r,f(t)])},definition:function(){return l("GET",{},["openapi"])},register:function(r,t){return l("POST",{username:r,password:t},["register"])},login:function(r,t){return l("POST",{username:r,password:t},["login"])},logout:function(){return l("POST",{},["logout"])},me:function(){return l("GET",null,["me"])}}}}();
